<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Carica e riproduci MP3</title>
    <link rel="stylesheet" href="style.css"> <!-- Collega il file CSS -->
</head>
<body>

<h2>Carica le tue tracce MP3</h2>

<!-- Pulsante per selezionare le tracce -->
<button id="uploadButton">Scegli le tracce MP3</button>
<input type="file" id="fileInput" accept=".mp3" multiple style="display: none;">

<!-- Area dove verranno mostrate le tracce -->
<div id="listaTracce"></div>

<script>
document.getElementById('uploadButton').addEventListener('click', function() {
    document.getElementById('fileInput').click(); // Simula il click sull'input nascosto
});

document.getElementById('fileInput').addEventListener('change', function() {
    const input = this;
    const listaTracce = document.getElementById('listaTracce');
    listaTracce.innerHTML = ''; // Reset della lista tracce

    const files = input.files; // Recupera i file selezionati

    if (files.length > 0) {
        for (let i = 0; i < files.length; i++) {
            if (files[i].type === 'audio/mpeg') {
                const audio = document.createElement('audio');
                audio.controls = true;
                const source = document.createElement('source');
                source.src = URL.createObjectURL(files[i]); // Crea un URL temporaneo per il file
                source.type = files[i].type;
                audio.appendChild(source);

                // Crea un elemento per il nome della traccia
                const nomeTraccia = document.createElement('p');
                nomeTraccia.textContent = "Traccia: " + files[i].name; // Mostra il nome del file MP3

                // Contenitore per ogni traccia
                const tracciaDiv = document.createElement('div');
                tracciaDiv.id = "audio-wrapper";
                tracciaDiv.appendChild(nomeTraccia); // Aggiungi il nome della traccia
                tracciaDiv.appendChild(audio); // Aggiungi il player audio

                // Aggiungi la traccia alla lista
                listaTracce.appendChild(tracciaDiv);
            } else {
                alert("Il file " + files[i].name + " non Ã¨ un MP3.");
            }
        }
    } else {
        alert('Nessun file selezionato');
    }
});
</script>

</body>
</html>
